<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
</head>

<body>
  <script>
  function add(x, y) {
    return x + y;
  }

  function substract(x, y) {
    return x - y;
  }

  function multiply(x, y) {
    return x * y;
  }

  function divide(x, y) {
    return x / y;
  }

  function operate(operator, operand1, operand2) {
    return operator(operand1, operand2);
  }

  //这行代码所示的函数调用实际上计算了(2+3)+(4+5)的值
  let i = operate(add, operate(add, 2, 3), operate(multiply, 4, 5));

  //这个例子重复实现一个简单的函数
  //这次实现使用函数直接量，这些函数直接量定义了一个对象直接量中
  let operators = {
    add: function(x, y) {
      return x + y;
    },
    substract: function(x, y) {
      return x - y;
    },
    multiply: function(x, y) {
      return x * y;
    },
    divide: function(x, y) {
      return x / y
    },
    pow: Math.pow
  };

  function operate2(operation, operand1, operand2) {
    if (typeof operators[operation] === "function") {
      return operators[operation](operand1, operand2);
    } else {
      throw "unknown operator";
    }
  }

  let j = operate2("add", "hello", operate2("add", " ", "world"));
  let k = operate2("pow", 10, 2);
  </script>
</body>

</html>
