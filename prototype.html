<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>prototype demo</title>
</head>
<body>
<script>
    {
        function Animal() {
            this.name = 'name'
        }

        console.log(new Animal())
    }

    {
        class Animal {
            constructor() {
                this.name = 'name'
            }
        }

        console.log(new Animal())
    }

    {
        /**
         * 借助构造函数实现继承
         */

        function Parent() {
            this.name = 'parent'
        }

        function Child() {
            Parent.call(this)
            this.type = 'child'
        }

        console.log(new Parent(), new Child())
    }

    {
        /**
         * 借助原型链实现继承
         */

        function Parent() {
            this.name = 'parent'
        }

        function Child() {
            this.type = 'child'
        }

        // 助读
        // Child.prototype.__proto__ === Parent.prototype === (new Parent()).__proto__
        // Child.prototype === (new Child()).__proto__ === new Parent()
        Child.prototype = new Parent()
        Child.prototype.constructor = Child

        console.log(new Parent(), new Child())
    }

    {
        /**
         * 组合方式
         */

        function Parent() {
            this.name = 'parent'
        }

        function Child() {
            Parent.call(this)
            this.type = 'child'
        }

        Child.prototype = new Parent()
        Child.prototype.constructor = Child

        console.log(new Parent(), new Child())
    }

    {
        /**
         * 组合继承的优化
         */

        function Parent() {
            this.name = 'parent'
        }

        function Child() {
            Parent.call(this)
            this.type = 'child'
        }

        Child.prototype = Object.create(Parent.prototype)
        Child.prototype.constructor = Child

        console.log(new Parent(), new Child())
    }

    {
        // Object.create() 与 new Object() 的区别
        // https://stackoverflow.com/questions/13040684/javascript-inheritance-object-create-vs-new
    }

    {
        class Parent {
            constructor() {
                this.name = 'parent'
            }
        }

        class Child extends Parent {
            constructor() {
                super()
                this.type = 'child'
            }
        }

        console.log(new Parent(), new Child())
    }

</script>
</body>
</html>