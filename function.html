<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>function demo</title>
</head>
<body>
<script>
    {
        // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/bind

        this.x = 9
        let module = {
            x: 81,
            getX() {
                return this.x
            }
        }

        console.log(module.getX())

        let retrieveX = module.getX
        console.log(retrieveX())

        // 创建一个新函数，将"this"绑定到module对象
        let boundGetX = retrieveX.bind(module)
        console.log(boundGetX())
    }

    {
        // 闭包是函数
        // 闭包是指有权访问另一个函数作用域中的变量的函数
        // 创建闭包的常见方式，就是在一个函数内部创建另一个函数
        function createComparisionFunction(propertyName) {
            return function (object1, object2) {
                let value1 = object1[propertyName]
                let value2 = object2[propertyName]

                if (value1 < value2) {
                    return -1
                } else if (value1 > value2) {
                    return 1
                }
                return 0
            }
        }
    }

    {
        function Person(name, age, job) {
            this.name = name
            this.age = age
            this.job = job
            this.friends = ['Shelby', 'Court']
        }

        Person.prototype = {
            sayName() {
                console.log(this.name)
            }
        }

        let person1 = new Person('Nicholas', 29, 'Software Engineer')
        let person2 = new Person('Greg', 27, 'Doctor')

        person1.friends.push('Van')
        console.log(person1.friends)
        console.log(person2.friends)
        console.log(person1.friends === person2.friends)
        console.log(person1.sayName === person2.sayName)
    }

    {
        function Person(name, age, job) {
            this.name = name
            this.age = age
            this.job = job
        }

        Person.prototype = {
            friends: ['Shelby', 'Court'],
            sayName() {
                console.log(this.name)
            }
        }

        let person1 = new Person('Nicholas', 29, 'Software Engineer')
        let person2 = new Person('Greg', 27, 'Doctor')

        person1.friends.push('Van')
        console.log(person1.friends)
        console.log(person2.friends)
        console.log(person1.friends === person2.friends)
        console.log(person1.sayName === person2.sayName)
    }
</script>
</body>
</html>